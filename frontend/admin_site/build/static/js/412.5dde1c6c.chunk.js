"use strict";(self.webpackChunkadmin_site=self.webpackChunkadmin_site||[]).push([[412],{496:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(433),s=n(439),i=n(791);function a(e){var t=(0,i.useState)(e),n=(0,s.Z)(t,2),a=n[0],c=n[1];return{array:a,set:c,push:function(e){c((function(t){return[].concat((0,r.Z)(t),[e])}))},filter:function(e){c((function(t){return t.filter(e)}))},update:function(e,t){c((function(n){return[].concat((0,r.Z)(n.slice(0,e)),[t],(0,r.Z)(n.slice(e+1,n.length)))}))},remove:function(e){c((function(t){return[].concat((0,r.Z)(t.slice(0,e)),(0,r.Z)(t.slice(e+1,t.length)))}))},clear:function(){c([])}}}},412:function(e,t,n){n.r(t),n.d(t,{default:function(){return P},setJobs:function(){return G},setJobsServerResponse:function(){return L}});var r=n(165),s=n(861),i=n(439),a=n(791),c=n(683),o=n(540),l=n(962),u=n(184),d={},b={};function f(){var e=(0,a.useState)({isEditing:!1}),t=(0,i.Z)(e,2),n=t[0],r=t[1],s=(0,a.useState)({}),c=(0,i.Z)(s,2),o=c[0],l=c[1];return d.get=n,b.get=o,(0,a.useEffect)((function(e){d.set=r,b.set=l}),[]),(0,a.useEffect)((function(){if(n.isEditing){var e=document.getElementById("job-title"),t=document.getElementById("job-description"),r=document.getElementById("job-icon"),s=document.getElementById("job-responsibilities"),i=document.getElementById("job-qualifications"),a=document.getElementById("confirm-edit");e.disabled=!0,t.disabled=!0,r.disabled=!0,s.disabled=!0,i.disabled=!0,a.disabled=!0,function(){I.apply(this,arguments)}()}}),[n]),n.isEditing?(0,u.jsxs)("div",{className:"editing-fields",children:[(0,u.jsxs)("section",{className:"editing-top",children:[(0,u.jsxs)("div",{className:"title",children:[(0,u.jsx)("h3",{children:"\u0627\u0644\u062a\u0639\u062f\u064a\u0644 \u0639\u0644\u0649 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("p",{children:"\u0633\u062a\u0638\u0647\u0631 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u060c \u0644\u0630\u0627 \u0643\u0646 \u062f\u0642\u064a\u0642\u064b\u0627."})]}),(0,u.jsx)("div",{className:"action",children:(0,u.jsxs)("button",{className:"form-button",id:"delete-job",onClick:p,children:[(0,u.jsx)("span",{children:"\u062d\u0630\u0641"}),(0,u.jsx)("i",{className:"fas fa-trash delete-job-icon"}),(0,u.jsx)("span",{className:"loading-spinner-button",role:"status","aria-hidden":"true"})]})})]}),k(),(0,u.jsx)("section",{className:"editing-buttons",children:j()}),(0,u.jsxs)("section",{className:"editing-body",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-title",children:"\u0625\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("input",{type:"text",id:"job-title"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-description",children:"\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("textarea",{id:"job-description"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-icon",children:"\u0623\u064a\u0642\u0648\u0646\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("input",{type:"url",id:"job-icon",placeholder:"https://..."})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-responsibilities",children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0648\u0627\u0644\u0645\u0633\u0624\u0648\u0644\u064a\u0627\u062a"}),(0,u.jsx)("textarea",{id:"job-responsibilities",className:"long"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-qualifications",children:"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u0624\u0647\u0644\u0627\u062a"}),(0,u.jsx)("textarea",{id:"job-qualifications",className:"long"})]})]}),(0,u.jsxs)("section",{className:"editing-bottom",children:[(0,u.jsxs)("button",{className:"form-button",id:"confirm-edit",onClick:y,children:[(0,u.jsx)("span",{children:"\u062d\u0641\u0638"}),(0,u.jsx)("span",{className:"loading-spinner-button",role:"status","aria-hidden":"true"})]}),(0,u.jsx)("button",{className:"form-button",id:"cancel-edit",onClick:N,children:(0,u.jsx)("span",{children:"\u0625\u0644\u063a\u0627\u0621"})})]})]}):null}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i,a,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646\u0643 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 ["+document.getElementById("job-title").getAttribute("value")+"] \u061f")){e.next=3;break}return e.abrupt("return");case 3:return n={csrfToken:(0,o.v)("csrfToken")},s=t.target.querySelector(".loading-spinner-button"),i=t.target.querySelector(".delete-job-icon"),s&&(s.style.display="block"),i&&(i.style.display="none"),t.target.disabled=!0,e.prev=9,e.next=12,fetch("".concat(l.Z.api,"/jobs/").concat(d.get.jobId),{method:"DELETE",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 12:a=e.sent,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(9),console.error(e.t0),b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0644\u0627\u064a\u0633\u062a\u062c\u064a\u0628"})}));case 19:if(e.prev=19,!a){e.next=34;break}return e.next=23,a.json();case 23:if(u=e.sent,!a.ok){e.next=30;break}N(),G(u.jobs),L({success:!0,code:200}),e.next=34;break;case 30:if(401!==a.status){e.next=33;break}return window.location.href="/login/?redirect=".concat(window.location.pathname).concat(window.location.search),e.abrupt("return");case 33:b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"".concat(u.message)})}));case 34:return s&&(s.style.display="none"),i&&(i.style.display="block"),t.target.disabled=!1,e.finish(19);case 38:case"end":return e.stop()}}),e,null,[[9,15,19,38]])})))).apply(this,arguments)}function j(){return"hidden"in b.get&&"closed"in b.get?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{className:"form-button",id:"toggle-job-apply",onClick:m,children:[(0,u.jsx)("span",{children:b.get.closed?"\u0641\u062a\u062d \u062a\u0648\u0638\u064a\u0641":"\u0625\u063a\u0644\u0627\u0642 \u062a\u0648\u0638\u064a\u0641"}),(0,u.jsx)("span",{className:"loading-spinner-button",role:"status","aria-hidden":"true"})]}),(0,u.jsxs)("button",{className:"form-button",id:"toggle-hide",onClick:g,children:[(0,u.jsx)("span",{children:b.get.hidden?"\u0625\u0638\u0647\u0627\u0631":"\u0625\u062e\u0641\u0627\u0621"}),(0,u.jsx)("span",{className:"loading-spinner-button",role:"status","aria-hidden":"true"})]})]}):null}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={csrfToken:(0,o.v)("csrfToken"),toggleApply:b.get.closed?1:0},(s=t.target.querySelector(".loading-spinner-button"))&&(s.style.display="block"),t.target.disabled=!0,e.prev=4,e.next=7,fetch("".concat(l.Z.api,"/jobs/").concat(d.get.jobId),{method:"PATCH",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 7:i=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0),b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0644\u0627\u064a\u0633\u062a\u062c\u064a\u0628"})}));case 14:if(e.prev=14,!i){e.next=29;break}return e.next=18,i.json();case 18:if(a=e.sent,!i.ok){e.next=25;break}N(),G(a.jobs),L({success:!0,code:200}),e.next=29;break;case 25:if(401!==i.status){e.next=28;break}return window.location.href="/login/?redirect=".concat(window.location.pathname).concat(window.location.search),e.abrupt("return");case 28:b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"".concat(a.message)})}));case 29:return s&&(s.style.display="block"),t.target.disabled=!1,e.finish(14);case 32:case"end":return e.stop()}}),e,null,[[4,10,14,32]])})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={csrfToken:(0,o.v)("csrfToken"),setVisible:b.get.hidden?0:1},(s=t.target.querySelector(".loading-spinner-button"))&&(s.style.display="block"),t.target.disabled=!0,e.prev=4,e.next=7,fetch("".concat(l.Z.api,"/jobs/").concat(d.get.jobId),{method:"PATCH",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 7:i=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0),b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0644\u0627\u064a\u0633\u062a\u062c\u064a\u0628"})}));case 14:if(e.prev=14,!i){e.next=29;break}return e.next=18,i.json();case 18:if(a=e.sent,!i.ok){e.next=25;break}N(),G(a.jobs),L({success:!0,code:200}),e.next=29;break;case 25:if(401!==i.status){e.next=28;break}return window.location.href="/login/?redirect=".concat(window.location.pathname).concat(window.location.search),e.abrupt("return");case 28:b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"".concat(a.message)})}));case 29:return s&&(s.style.display="none"),t.target.disabled=!1,e.finish(14);case 32:case"end":return e.stop()}}),e,null,[[4,10,14,32]])})))).apply(this,arguments)}function y(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i,a,u,f,p,h,j,m,x,g,v,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("job-title"),s=document.getElementById("job-description"),i=document.getElementById("job-icon"),a=document.getElementById("job-responsibilities"),u=document.getElementById("job-qualifications"),f=n.value.trim(),p=s.value.trim(),h=i.value.trim(),j=a.value.trim(),m=u.value.trim(),0!==f.length){e.next=15;break}return b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0625\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 15:if(0!==p.length){e.next=20;break}return b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 20:if(0!==h.length){e.next=25;break}return b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u064a\u0642\u0648\u0646\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 25:if(0!==j.length){e.next=30;break}return b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0645\u0633\u0624\u0648\u0644\u064a\u0627\u062a \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 30:if(0!==m.length){e.next=33;break}return b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0645\u0624\u0647\u0644\u0627\u062a \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 33:if(x={},f!==n.getAttribute("value").trim()&&(x.jobTitle=f),p!==s.getAttribute("value").trim()&&(x.jobDescription=p),h!==i.getAttribute("value").trim()&&(x.jobIcon=h),j!==a.getAttribute("value").trim()&&(x.jobResponsibilities=j),m!==u.getAttribute("value").trim()&&(x.jobQualifications=m),0!==Object.values(x).length){e.next=42;break}return b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0644\u0645 \u064a\u062a\u0645 \u0631\u0635\u062f \u0623\u064a \u062a\u0639\u062f\u064a\u0644\u0627\u062a\u060c \u062a\u0623\u0643\u062f \u0645\u0646 \u0645\u062f\u062e\u0644\u0627\u062a\u0643."})})),e.abrupt("return");case 42:return(g=t.target.querySelector(".loading-spinner-button"))&&(console.log(g),g.style.display="block"),x.csrfToken=(0,o.v)("csrfToken"),e.prev=45,e.next=48,fetch("".concat(l.Z.api,"/jobs/").concat(d.get.jobId),{method:"PATCH",credentials:"include",body:JSON.stringify(x),headers:{"Content-Type":"application/json"}});case 48:v=e.sent,e.next=55;break;case 51:e.prev=51,e.t0=e.catch(45),console.error(e.t0),b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0644\u0627\u064a\u0633\u062a\u062c\u064a\u0628"})}));case 55:if(e.prev=55,!v){e.next=70;break}return e.next=59,v.json();case 59:if(y=e.sent,!v.ok){e.next=66;break}N(),G(y.jobs),L({success:!0,code:200}),e.next=70;break;case 66:if(401!==v.status){e.next=69;break}return window.location.href="/login/?redirect=".concat(window.location.pathname).concat(window.location.search),e.abrupt("return");case 69:b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"".concat(y.message)})}));case 70:return g&&(g.style.display="none"),e.finish(55);case 72:case"end":return e.stop()}}),e,null,[[45,51,55,72]])})))).apply(this,arguments)}function k(){var e;if(null!==b&&void 0!==b&&null!==(e=b.get)&&void 0!==e&&e.error)return(0,u.jsx)("div",{className:"editing-error",children:(0,u.jsx)("p",{children:b.get.error})})}function N(){d.set({isEditing:!1}),b.set({})}function w(e){var t,n;if(!0===(null===d||void 0===d||null===(t=d.get)||void 0===t?void 0:t.isEditing))return null;var r=e.target.tagName.toLowerCase();if("td"===r)n=e.target.parentElement.dataset.id;else{if("tr"!==r)return;n=e.target.dataset.id}d.set({isEditing:!0,jobId:n})}function E(e){var t=document.getElementById("job-title"),n=document.getElementById("job-description"),r=document.getElementById("job-icon"),s=document.getElementById("job-responsibilities"),i=document.getElementById("job-qualifications"),a=document.getElementById("confirm-edit");t.setAttribute("value",e.title),t.value=e.title,n.setAttribute("value",e.description),n.value=e.description,r.setAttribute("value",e.icon),r.value=e.icon,s.setAttribute("value",e.responsibilities),s.value=e.responsibilities,i.setAttribute("value",e.qualifications),i.value=e.qualifications,b.set((function(t){return(0,c.Z)((0,c.Z)({},t),{},{hidden:e.hidden,closed:e.closed})})),t.disabled=!1,n.disabled=!1,r.disabled=!1,s.disabled=!1,i.disabled=!1,a.disabled=!1}function I(){return(I=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.api,"/jobs/").concat(d.get.jobId),console.log(n),e.prev=2,e.next=5,fetch(n,{method:"GET",credentials:"include"});case 5:t=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0644\u0627\u064a\u0633\u062a\u062c\u064a\u0628"})}));case 12:if(e.prev=12,!t){e.next=18;break}return e.next=16,t.json();case 16:s=e.sent,t.ok?E(s.jobInfo):b.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:s.message})}));case 18:return e.finish(12);case 19:case"end":return e.stop()}}),e,null,[[2,8,12,19]])})))).apply(this,arguments)}var T={};function B(){var e=(0,a.useState)({isAdding:!1}),t=(0,i.Z)(e,2),n=t[0],r=t[1];return T.get=n,(0,a.useEffect)((function(){T.set=r}),[]),n.isAdding?(0,u.jsxs)("div",{className:"submitting-fields",children:[(0,u.jsxs)("section",{className:"submitting-top",children:[(0,u.jsx)("h3",{children:"\u064a\u0631\u062c\u0649 \u0645\u0644\u0621 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("p",{children:"\u0633\u062a\u0638\u0647\u0631 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u060c \u0644\u0630\u0627 \u0643\u0646 \u062f\u0642\u064a\u0642\u064b\u0627."})]}),S(),(0,u.jsxs)("section",{className:"submitting-body",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-title",children:"\u0625\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("input",{type:"text",id:"job-title"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-description",children:"\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("textarea",{id:"job-description"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-icon",children:"\u0623\u064a\u0642\u0648\u0646\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("input",{type:"url",id:"job-icon",placeholder:"https://..."})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-responsibilities",children:"\u0627\u0644\u0645\u0647\u0627\u0645 \u0648\u0627\u0644\u0645\u0633\u0624\u0648\u0644\u064a\u0627\u062a"}),(0,u.jsx)("textarea",{id:"job-responsibilities",className:"long"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"job-qualifications",children:"\u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062a \u0648\u0627\u0644\u0645\u0624\u0647\u0644\u0627\u062a"}),(0,u.jsx)("textarea",{id:"job-qualifications",className:"long"})]})]}),(0,u.jsxs)("section",{className:"submitting-bottom",children:[(0,u.jsxs)("button",{className:"form-button",id:"confirm-submit",onClick:C,children:[(0,u.jsx)("span",{children:"\u062a\u0645"}),(0,u.jsx)("span",{className:"loading-spinner-button",role:"status","aria-hidden":"true"})]}),(0,u.jsx)("button",{className:"form-button",id:"cancel-submit",onClick:q,children:(0,u.jsx)("span",{children:"\u0625\u0644\u063a\u0627\u0621"})})]})]}):null}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s,i,a,u,d,b,f,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("job-title").value,s=document.getElementById("job-description").value,i=document.getElementById("job-icon").value,a=document.getElementById("job-responsibilities").value,u=document.getElementById("job-qualifications").value,0!==n.trim().length){e.next=10;break}return T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0625\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 10:if(0!==s.trim().length){e.next=15;break}return T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 15:if(0!==i.trim().length){e.next=20;break}return T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0623\u064a\u0642\u0648\u0646\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 20:if(0!==a.trim().length){e.next=25;break}return T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0645\u0633\u0624\u0648\u0644\u064a\u0627\u062a \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 25:if(0!==u.trim().length){e.next=28;break}return T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u064a\u062c\u0628 \u0625\u062f\u062e\u0627\u0644 \u0645\u0624\u0647\u0644\u0627\u062a \u0627\u0644\u0648\u0638\u064a\u0641\u0629"})})),e.abrupt("return");case 28:return d=t.target.querySelector(".loading-spinner-button"),console.log(t.target),console.log(t),d&&(console.log(d),d.style.display="block"),b=JSON.stringify({csrfToken:(0,o.v)("csrfToken"),jobTitle:n,jobDescription:s,jobIcon:i,jobResponsibilities:a,jobQualifications:u}),e.prev=33,e.next=36,fetch("".concat(l.Z.api,"/jobs"),{method:"POST",credentials:"include",body:b,headers:{"Content-Type":"application/json"}});case 36:f=e.sent,e.next=43;break;case 39:e.prev=39,e.t0=e.catch(33),console.error(e.t0),T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0644\u0627\u064a\u0633\u062a\u062c\u064a\u0628"})}));case 43:if(e.prev=43,!f){e.next=58;break}return e.next=47,f.json();case 47:if(p=e.sent,!f.ok){e.next=54;break}q(),G(p.jobs),L({success:!0,code:201}),e.next=58;break;case 54:if(401!==f.status){e.next=57;break}return window.location.href="/login/?redirect=".concat(window.location.pathname).concat(window.location.search),e.abrupt("return");case 57:T.set((function(e){return(0,c.Z)((0,c.Z)({},e),{},{error:"".concat(p.message)})}));case 58:return d&&(d.style.display="none"),e.finish(43);case 60:case"end":return e.stop()}}),e,null,[[33,39,43,60]])})))).apply(this,arguments)}function S(){var e;if(null!==T&&void 0!==T&&null!==(e=T.get)&&void 0!==e&&e.error)return(0,u.jsx)("div",{className:"submitting-error",children:(0,u.jsx)("p",{children:T.get.error})})}function q(){T.set({isAdding:!1})}function F(e){if(null===T||void 0===T||!T.get||T.isAdding)return null;T.set({isAdding:!0})}var J=n(496),O={},_={};function P(){var e=(0,J.Z)([]),t=(0,a.useState)(),n=(0,i.Z)(t,2),r=n[0],s=n[1];return O=e,_.get=r,(0,a.useEffect)((function(){_.set=s,function(){V.apply(this,arguments)}()}),[]),(0,u.jsx)("div",{className:"Jobs",children:(0,u.jsxs)("main",{children:[(0,u.jsx)(B,{}),(0,u.jsx)(f,{}),(0,u.jsx)("section",{className:"controls",children:(0,u.jsx)("button",{className:"form-button",id:"add-job",onClick:F,children:"\u0625\u0636\u0627\u0641\u0629 \u0648\u0638\u064a\u0641\u0629"})}),(0,u.jsx)("section",{className:"info",children:R()}),(0,u.jsx)("section",{className:"jobs-area",children:(0,u.jsx)("div",{className:"jobs-field",children:Q()})})]})})}var D={201:{message:"\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u0642\u062f \u062a\u0623\u062e\u0630 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0628\u0636\u0639 \u0644\u062d\u0638\u0627\u062a \u062d\u062a\u0649 \u062a\u0638\u0647\u0631 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0626\u064a\u0633\u064a.",className:"alert-green"},200:{message:"\u062a\u0645\u062a \u0627\u0644\u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u0642\u062f \u062a\u0623\u062e\u0630 \u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0628\u0636\u0639 \u0644\u062d\u0638\u0627\u062a \u062d\u062a\u0649 \u062a\u0638\u0647\u0631 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0626\u064a\u0633\u064a.",className:"alert-green"}};function H(e){_.set(void 0)}function R(){if(null===_||void 0===_||!_.get)return null;var e,t,n=D[_.get.code];return n?(e=n.className,t=n.message):(e=_.get.code>=500?"alert-red":"alert-orange",t=_.get.message||"\u0644\u0627\u064a\u0645\u0643\u0646 \u062a\u0646\u0641\u064a\u0630 \u0637\u0644\u0628\u0643 \u062d\u0627\u0644\u064a\u064b\u0627\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0644\u0627\u062d\u0642\u064b\u0627"),(0,u.jsxs)("div",{className:"alert ".concat(e),children:[(0,u.jsx)("button",{className:"alert-close",onClick:H,children:(0,u.jsx)("i",{class:"fas fa-times"})}),(0,u.jsx)("pre",{children:t})]})}function G(e){O.set(e)}function L(e){_.set(e)}function Q(){if(O.array&&!(O.array.length<=0)){var e=O.array.map((function(e,t){return(0,u.jsxs)("tr",{"data-id":e.id,onClick:w,children:[(0,u.jsx)("td",{children:e.id}),(0,u.jsx)("td",{className:"spacing-cell"}),(0,u.jsx)("td",{children:e.title}),(0,u.jsx)("td",{className:"spacing-cell"}),(0,u.jsx)("td",{children:(e.hidden?"\u0645\u062e\u0641\u064a":e.closed&&"\u0645\u063a\u0644\u0642")||"\u0645\u0641\u062a\u0648\u062d"}),(0,u.jsx)("td",{className:"spacing-cell"}),(0,u.jsx)("td",{children:e.added_by}),(0,u.jsx)("td",{className:"spacing-cell"}),(0,u.jsx)("td",{children:e.edited_by?e.edited_by:"\u0644\u0627 \u0623\u062d\u062f"})]},t)}));return(0,u.jsxs)("table",{className:"jobs",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"\u0627\u0644\u0631\u0642\u0645"}),(0,u.jsx)("th",{className:"spacing-cell"}),(0,u.jsx)("th",{children:"\u0625\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,u.jsx)("th",{className:"spacing-cell"}),(0,u.jsx)("th",{children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,u.jsx)("th",{className:"spacing-cell"}),(0,u.jsx)("th",{children:"\u0623\u064f\u0646\u0634\u0626\u062a \u0645\u0646 \u0642\u0628\u0644"}),(0,u.jsx)("th",{className:"spacing-cell"}),(0,u.jsx)("th",{children:"\u0639\u064f\u062f\u0644\u062a \u0645\u0646 \u0642\u0628\u0644"})]})}),(0,u.jsx)("tbody",{children:e})]})}}function V(){return(V=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.Z.api,"/jobs"),e.prev=1,e.next=4,fetch(n,{method:"GET",credentials:"include"});case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:if(e.prev=10,!t){e.next=16;break}return e.next=14,t.json();case 14:s=e.sent,t.ok&&G(s.jobs);case 16:return e.finish(10);case 17:case"end":return e.stop()}}),e,null,[[1,7,10,17]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=412.5dde1c6c.chunk.js.map