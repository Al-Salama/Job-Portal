{"version":3,"file":"static/js/829.945569cf.chunk.js","mappings":"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","sources":["pages/Settings.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './css/Settings.css'\r\nimport deleteIcon from '../assets/imgs/delete.png'\r\nimport addIcon from '../assets/imgs/add.png'\r\nimport settings from \"../data/settings\";\r\nimport { getAdminInfo } from \"../App\";\r\n\r\nlet g_location = {};\r\nexport default function Settings() {\r\n    const [location, setLocation] = useState({isAdding: false, list: []});\r\n    g_location.get = location;\r\n\r\n    useEffect(() => {\r\n        if (!g_location.set) g_location.set = setLocation;\r\n\r\n        fetchAllSettings();\r\n    }, [])\r\n\r\n    return (\r\n        <main className=\"Settings\">\r\n            <section className=\"setting-sec\">\r\n                <div className=\"setting-header\">\r\n                    <h3>مواقع المقابلات الشخصية</h3>\r\n                    <span className='add-item'>\r\n                        <button className='add-item-btn' type='button' onClick={\r\n                            function (e) {\r\n                                addItem.call(this, e)\r\n                            }\r\n                        } style={{backgroundImage: `url(${addIcon})`}}></button>\r\n                    </span>\r\n                </div>\r\n                <div className=\"setting-body\">\r\n                    <div className=\"setting\">\r\n\r\n                        {getLocationSetting()}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nfunction getLocationSetting() {\r\n    if (!g_location.get) return;\r\n\r\n    let components;\r\n\r\n    if (g_location.get.isAdding) {\r\n        components =\r\n        <>\r\n            <div>\r\n                <label htmlFor=\"location-name\">إسم الموقع</label>\r\n                <input type=\"text\" id=\"location-name\" />\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"location-url\">رابط الموقع</label>\r\n                <input type=\"url\" name=\"locationUrl\" id=\"location-url\" />\r\n            </div>\r\n\r\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                <button className='form-button' id=\"location-save-btn\" onClick={\r\n                    function (e) {\r\n                        saveLocationItem.call(this, e)\r\n                    }\r\n                }>\r\n                    <span>حفظ</span>\r\n                    <span className=\"loading-spinner-button\" role=\"status\" aria-hidden=\"true\"></span>\r\n                </button>\r\n\r\n                <button className='form-button' id=\"location-cancel-btn\" onClick={\r\n                    function (e) {\r\n                        cancelItem.call(this, e)\r\n                    }\r\n                }>\r\n                    <span>إلغاء</span>\r\n                </button>\r\n            </div>\r\n        </>\r\n    } else {\r\n        components = g_location.get.list.map((location, id) => {\r\n            return (\r\n                <div className='location-item' key={location.id} data-id={location.id}>\r\n                    <div className='item-info'>\r\n                        <div className='item-info-line'>\r\n                            <p>\r\n                                <b>إسم الموقع: </b>\r\n                                <p>{location.name}</p>\r\n                            </p>\r\n                        </div>\r\n                        <div className='item-info-line'>\r\n                            <p>\r\n                                <b>الرابط: </b>\r\n                                <a href={location.url} target=\"_blank\" rel=\"noopener noreferrer\">{location.url}</a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='controls'>\r\n                        <div className='delete-item'>\r\n                            <button className='delete-item-btn' type='button' onClick={\r\n                                function (e) {\r\n                                    deleteItem.call(this, e)\r\n                                }\r\n                            } style={{backgroundImage: `url(${deleteIcon})`}}></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n    return components;\r\n}\r\n\r\nfunction addItem(event) {\r\n    if (g_location.get?.isAdding) return;\r\n\r\n    g_location.set((oldValue) => {\r\n        return {\r\n            ...oldValue,\r\n            isAdding: true\r\n        }\r\n    });\r\n}\r\n\r\nfunction cancelItem(event) {\r\n    g_location.set((oldValue) => {\r\n        return {\r\n            ...oldValue,\r\n            isAdding: false\r\n        }\r\n    });\r\n}\r\n\r\nasync function deleteItem(event) {\r\n    const mainParent = event.target.parentElement.parentElement.parentElement;\r\n    const locationId = mainParent.dataset.id;\r\n    if (typeof locationId !== \"string\") return;\r\n\r\n    event.target.disabled = true;\r\n\r\n    let fetchResult;\r\n    const url = `${settings.api}/settings/locations/${locationId}`;\r\n    const body = JSON.stringify({\r\n        csrfToken: getAdminInfo(\"csrfToken\")\r\n    })\r\n    try {\r\n        fetchResult = await fetch(url, {\r\n            method: \"DELETE\",\r\n            credentials: \"include\",\r\n            body: body,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.error(error);\r\n    } finally {\r\n        if (fetchResult) {\r\n            const response = await fetchResult.json();\r\n            if (fetchResult.ok) {\r\n                g_location.set({\r\n                    isAdding: false,\r\n                    list: response.locations\r\n                })\r\n            }\r\n        }\r\n        event.target.disabled = false;\r\n    }\r\n}\r\n\r\nasync function saveLocationItem(event) {\r\n    const locationName = document.getElementById(\"location-name\").value;\r\n    const locationURL = document.getElementById(\"location-url\").value;\r\n\r\n    event.target.disabled = true;\r\n    if (locationName.length > 0 && locationURL.length > 0) {\r\n        let fetchResult;\r\n        const url = `${settings.api}/settings/locations`;\r\n        const body = JSON.stringify({\r\n            csrfToken: getAdminInfo(\"csrfToken\"),\r\n            name: locationName,\r\n            url: locationURL\r\n        })\r\n        try {\r\n            fetchResult = await fetch(url, {\r\n                method: \"POST\",\r\n                credentials: \"include\",\r\n                body: body,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            if (fetchResult) {\r\n                const response = await fetchResult.json();\r\n                if (fetchResult.ok) {\r\n                    g_location.set({\r\n                        isAdding: false,\r\n                        list: response.locations\r\n                    })\r\n                }\r\n            }\r\n            event.target.disabled = false;\r\n        }\r\n    }\r\n}\r\n\r\nasync function fetchAllSettings() {\r\n    let fetchResult;\r\n    const url = `${settings.api}/settings`;\r\n    try {\r\n        fetchResult = await fetch(url, {\r\n            method: \"GET\",\r\n            credentials: \"include\"\r\n        })\r\n    } catch (error) {\r\n        console.error(error);\r\n    } finally {\r\n        if (fetchResult) {\r\n            const response = await fetchResult.json();\r\n            if (fetchResult.ok) {\r\n                g_location.set({\r\n                    isAdding: false,\r\n                    list: response.settings.locations\r\n                })\r\n            }\r\n        }\r\n    }\r\n}"],"names":["g_location","Settings","_useState","useState","isAdding","list","_useState2","_slicedToArray","location","setLocation","get","useEffect","set","_fetchAllSettings","apply","arguments","fetchAllSettings","_jsx","className","children","_jsxs","type","onClick","e","addItem","call","this","style","backgroundImage","concat","addIcon","getLocationSetting","_Fragment","htmlFor","id","name","display","justifyContent","saveLocationItem","role","cancelItem","map","href","url","target","rel","deleteItem","deleteIcon","event","_g_location$get","oldValue","_objectSpread","_x","_deleteItem","_asyncToGenerator","_regeneratorRuntime","mark","_callee","mainParent","locationId","fetchResult","body","response","wrap","_context","prev","next","parentElement","dataset","abrupt","disabled","settings","JSON","stringify","csrfToken","getAdminInfo","fetch","method","credentials","headers","sent","t0","console","error","json","ok","locations","finish","stop","_x2","_saveLocationItem","_callee2","locationName","locationURL","_context2","document","getElementById","value","length","_callee3","_context3"],"sourceRoot":""}